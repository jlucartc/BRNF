{
	"openapi":"3.0.0",
	"info":{
		"title":"nf-gem-api",
		"version":"1.00"
	},
	"paths":{
		"/autorizar_nota":{
			"post":{
				"description":"Mensagem de autorizacao de nota",
				"requestBody":{
					"required":true,
					"content":{
						"application/json":{
							"schema":{
								"type":"object",
								"required":["codigo_numerico","natureza_operacao","modelo_nota","serie","numero_nota","tipo_operacao","destino","codigo_municipio","ambiente","emissor","destinatario","produtos","responsavel_tecnico"],
								"properties":{
									"codigo_numerico":{"type":"string","description":"8 digitos arbitrários que compoem a chave"},
									"natureza_operacao":{"type":"string","description":"Informa se a operação é uma venda,devolucao,transferencia,etc."},
									"modelo_nota":{"type":"string","description":"Informa se a nota é NFCE ou NFE"},
									"serie":{"type":"string","description":"Número da série fiscal utilizada pela empresa"},
									"numero_nota":{"type":"string","description":"Número representando a sequência da nota"},
									"tipo_operacao":{"type":"string","description":"Representa se a operação é de entrada, onde os produtos comercializados estão entrando no estoque do emissor, ou se a operação é de saída, onde os produtos comercializados estão saindo do estoque do emissor."},
									"destino":{"type":"string","description":"Especifica se o destino da mercadoria é para o mesmo estado, para outro estado ou para o exterior"},
									"codigo_municipio":{"type":"string","description":"Código do município onde a operação foi realizada"},
									"tipo_emissao":{"type":"string","description":"Determina se a emissão é normal ou se é feita em contingência"},
									"ambiente":{"type":"string","description":"Determina se a nota está sendo emitida em ambiente de produção ou em ambiente de testes(homologação)"},
									"finalidade":{"type":"string","description":"Especifica qual é a finalidade da nota. Ex: nota compra/venda, nota de devolução, etc."},
									"consumidor_final":{"type":"string","description":"Determina se a operação esta sendo feita diretamente com o consumidor final dos produtos ou não."},
									"presenca_comprador":{"type":"string","description":"Determina se o comprador realizou a operação de forma presencial ou remota, via internet ou outro meio de comunicação."},
									"intermediario":{"type":"string","description":"Indica se a nota será emitida por um sistema próprio, sem intermediários, ou por sistemas de terceiros, como empresas ou orgãos públicos."},
									"nfe_referenciada":{"type":"string","description":"Contem a chave da NFe referenciada"},
									"emissor":{
										"description":"Dados do emissor da nota fiscal",
										"type":"object",
										"required":["nome","regime_tributario","logradouro","numero","bairro","codigo_municipio","cep","inscricao_estadual"],
										"properties":{
											"cnpj":{"type":"string"},
											"cpf":{"type":"string"},
											"nome":{"type":"string","description":"Nome ou razão social do emissor"},
											"nome_fantasia":{"type":"string"},
											"logradouro":{"type":"string"},
											"numero":{"type":"string"},
											"complemento":{"type":"string"},
											"bairro":{"type":"string"},
											"codigo_municipio":{"type":"string","description":"Código do IBGE referente ao município"},
											"cep":{"type":"string"},
											"codigo_pais":{"type":"string","description":"Código do BACEN(Banco Central) referente ao país do emissor"},
											"fone":{"type":"string"},
											"inscricao_estadual":{"type":"string"},
											"inscricao_estadual_substituicao_tributaria":{"type":"string"},
											"regime_tributario":{"type":"string","description":"Regime de tributação da empresa. Pode ser Simples Nacional, Lucro Presumido ou Simples Nacional com Excesso de Sublimite."},
											"dados_fiscais":{
												"type":"object",
												"required":["inscricao_municipal"],
												"properties":{
													"inscricao_municipal":{"type":"string"},
													"cnae":{"type":"string"},
												}
											}
										},
									},
									"destinatario":{
										"type":"object",
										"required":["logradouro","numero","bairro","codigo_municipio","indicador_inscricao_destinatario"],
										"properties":{
											"cnpj":{"type":"string"},
											"cpf":{"type":"string"},
											"id_estrangeiro":{"type":"string","description":"Identificador do destinatário caso seja estrangeiro. Pode conter o número de passaporte ou outro documento legal."},
											"nome":{"type":"string","description":"Nome ou razão social do destinatário"},
											"logradouro":{"type":"string"},
											"numero":{"type":"string"},
											"complemento":{"type":"string"},
											"bairro":{"type":"string"},
											"codigo_municipio":{"type":"string"},
											"cep":{"type":"string"},
											"codigo_pais":{"type":"string","description":"Código do BACEN(Banco Central) referente ao país do emissor"},
											"fone":{"type":"string"},
											"indicador_inscricao_destinatario":{"type":"string"},
											"inscricao_estadual":{"type":"string"},
											"inscricao_suframa":{"type":"string"},
											"inscricao_municipal":{"type":"string"},
											"email":{"type":"string"}
										}
									},
									"produtos":{
										"description":"Informações dos produtos presentes na nota fiscal",
										"type":"array",
										"items":{
											"type":"object",
											"required":["nome_produto","codigo_ncm","cfop","quantidade","preco"],
											"properties":{
												"codigo_produto":{"type":"string","description":"Código utilizado no sistema interno do vendedor do produto. Esse campo pode ser utilizado como forma de identificar mais facilmente os produtos vendidos na nota."},
												"codigo_ean":{"type":"string"},
												"nome_produto":{"type":"string"},
												"codigo_ncm":{"type":"string","description":"NCM(Nomenclatura Comum do Mercosul) é um código que identifica o tipo do produto."},
												"origem":{"type":"string","description":"Determina a origem do produto (nacional,internacional,etc.)"},
												"grupo_cest":{
													"description":"Indica a escala de produção e dados descritivos do produto",
													"type":"object",
													"required":["cest"],
													"properties":{
														"cest":{"type":"string","description":"Código CEST do produto"},
														"indicador_escala":{"type":"string","description":"Indica se a produção é feita em escala relevante"},
														"cnpj_fabricante":{"type":"string"}
													}
												},
												"codigo_beneficiario_fiscal":{"type":"string"},
												"codigo_excecao_tipi":{"type":"string"},
												"cfop":{"type":"string","description":"CFOP(Código Fiscal de Operações e Prestações) identifica o tipo de operação e de origem do produto. Deve ser determinado tendo em vista a origem do produto e qual a operação da nota fiscal."},
												"unidade_comercial":{"type":"string","description":"Unidade em que o produto é vendido. Ex: unidade, dúzia, trio, Kg, L, etc."},
												"quantidade":{"type":"string","description":"Quantidade de produtos de acordo com a unidade comercial."},
												"preco":{"type":"string","description":"Preço de uma unidade do produto de acordo com a unidade comercial."},
												"gtin":{"type":"string"},
												"unidade_tributavel":{"type":"string","description":"Unidade utilizada no cálculo dos tributos. Ex: unidade, Kg, L, etc."},
												"quantidade_tributavel":{"type":"string","description":"Quantidade de produtos de acordo com a unidade tributável."},
												"valor_frete":{"type":"string","description":"Valor do frete dos produtos"},
												"valor_seguro":{"type":"string","description":"Valor do seguro total dos produtos"},
												"valor_desconto":{"type":"string","description":"Valor do desconto total dado pelos produtos"},
												"valor_outras_despesas":{"type":"string"},
												"indicador_valor_item":{"type":"string","description":"Indica se o valor total desses produtos deve ser somado na hora de calcular o valor total da nota."},
												"item_lista_servicos":{"type":"string","description":"Indica o código da Lista de Serviços da ABRASF para esse produto. Informar apenas se o produto na verdade for um serviço."},
												"codigo_servico":{"type":"string","description":"Indica o código do serviço prestado dentro do município. Informar apenas se o produto na verdade for um serviço."},
												"numero_pedido":{"type":"string","description":"Identificador do pedido. Pode ser utilizado pelo emissor ou destinatário para fazer o controle interno de seus pedidos."},
												"numero_item_pedido":{"type":"string","description":"Identificador do item dentro do pedido. Utilizado pelo emissor ou destinatário para fazer o controle de cada item dentro de um pedido."},
												"numero_fci":{"type":"string","description":"Número de controle da FCI(Ficha de Conteúdo de Importação)"},
												"veiculo":{
													"type":"object",
													"required":["tipo_operacao","chassi","codigo_cor","descricao_cor","potencia","cilindradas","peso_liquido","peso_bruto","numero_serie","tipo_combustivel","numero_motor","capacidade_maxima_tracao","distancia_eixos","ano_modelo","ano_fabricacao","tipo_pintura","tipo_veiculo","especie_veiculo","condicao_vin","condicao_veiculo","codigo_marca_modelo","codigo_cor_denatran","lotacao","tipo_restricao"],
													"properties":{
														"tipo_operacao":{"type":"string","description":"Define se é venda para consumidor final, venda para grandes consumidores, etc."},
														"chassi":{"type":"string"},
														"codigo_cor":{"type":"string","description":"Código da cor utilizado pela montadora"},
														"descricao_cor":{"type":"string"},
														"potencia":{"type":"string"},
														"cilindradas":{"type":"string"},
														"peso_liquido":{"type":"string","description":"Peso líquido em toneladas"},
														"peso_bruto":{"type":"string","description":"Peso bruto em toneladas"},
														"numero_serie":{"type":"string"},
														"tipo_combustivel":{"type":"string","description":"Código da tabela RENAVAM referente ao combustível utilizado pelo veículo."},
														"numero_motor":{"type":"string"},
														"capacidade_maxima_tracao":{"type":"string","description":"CMT em toneladas"},
														"distancia_eixos":{"type":"string"},
														"ano_modelo":{"type":"string"},
														"ano_fabricacao":{"type":"string"},
														"tipo_pintura":{"type":"string"},
														"tipo_veiculo":{"type":"string","description":"Tipo de pintura de acordo com a tabela RENAVAM."},
														"especie_veiculo":{"type":"string","Espécie de veículo de acordo com a tabela RENAVAM."},
														"condicao_vin":{"type":"string","description":"Indica se o veículo possui VIN."},
														"condicao_veiculo":{"type":"string"},
														"codigo_marca_modelo":{"type":"string","description":"Código do modelo de acordo com a tabela RENAVAM."},
														"codigo_cor_denatran":{"type":"string","description":"Código de cor do DENATRAN."},
														"lotacao":{"type":"string"},
														"tipo_restricao":{"type":"string","description":"Define se há algum tipo de restrição no veículo."}
													}
												},
												"imposto":{
													"type":"object",
													"required":["icms"],
													"properties":{
														"icms":{
															"type":"object",
															"required":["codigo"],
															"properties":{
																"codigo":{"type":"string","description":"Código tributário do ICMS. Pode ser CST para empresas fora do simples naacional e CSOSN para empresas do simples nacional."},
																"modalidade_base_calculo":{"type":"string"},
																"percentual_margem_valor_adicionado_icms_st":{"type":"string"},
																"percentual_reducao_base_calculo_icms_st":{"type":"string"},
																"motivo_desoneracao":{"type":"string"},
																"percentual_reducao_base_calculo":{"type":"string"},
																"percentual_diferimento":{"type":"string"},
																"aliquota_suportada_consumidor_final":{"type":"string"},
																"percentual_reducao_base_calculo_efetiva":{"type":"string"},
																"percentual_base_calculo_operacao_propria":{"type":"string"},
																"ufst":{"type":"string","description":"UF para qual é devido o ICMS."},
																"percentual_credito_simples_nacional":{"type":"string"},
																"modalidade_base_calculo_st":{"type":"string"}
															}
														},
														"pis":{
															"type":"object",
															"required":["codigo"],
															"properties":{
																"codigo":{"type":"string","description":"Código tributário do PIS."},
																"aliquota":{"type":"string","description":"Percentual cobrado por produto."},
																"quantidade_tributavel":{"type":"string","description":"Quantidade de produtos tributados. Por padrão, todos os produtos serão tributados caso esse campo não seja informado."},
																"valor_unitario":{"type":"string","description":"Imposto por produto em R$."}
															}
														},
														"cofins":{
															"type":"object",
															"required":["codigo"],
															"properties":{
																"codigo":{"type":"string","description":"Código tributário do COFINS."},
																"aliquota":{"type":"string","description":"Percentual cobrado por produto."},
																"quantidade_tributavel":{"type":"string","description":"Quantidade de produtos tributados. Por padrão, todos os produtos serão tributados caso esse campo não seja informado."},
																"valor_unitario":{"type":"string","description":"Imposto por produto em R$."}
															}
														},
														"ipi":{
															"type":"object",
															"required":["codigo"],
															"properties":{
																"cnpj_produtor":{"type":"string","description":"CNPJ do produtor da mercadoria."},
																"codigo_selo":{"type":"string","description":"Código do selo de controle IPI."},
																"quantidade_selo":{"type":"string","description":"Quantidade de selo de controle."},
																"codigo_enquadramento":{"type":"string","description":"Código de enquadramento legal do IPI"},
																"codigo":{"type":"string","description":"Código tributário do IPI."},
																"aliquota":{"type":"string","description":"Percentual do imposto cobrado por produto."},
																"quantidade_tributavel":{"type":"string","description":"Quantidade a ser tributada. Por padrão, a quantidade de produtos informada será utilizada caaso esse campo não seja preenchido."},
																"valor_unitario":{"type":"string","description":"Valor em R$ de imposto cobrado por unidade tributável do produto."}
															}
														},
														"ii":{
															"type":"object",
															"required":["valor_despesas_aduaneiras"],
															"properties":{
																"valor_despesas_aduaneiras":{"type":"string"}
															}
														},
														"issqn":{
															"type":"object",
															"required":["aliquota"],
															"properties":{
																"aliquota":{"type":"string"},
																"codigo_municipio":{"type":"string"},
																"valor_deducao":{"type":"string","description":"Valor a ser deduzido da base de cálculo."},
																"valor_desconto_incondicionado":{"type":"string"},
																"valor_desconto_condicionado":{"type":"string"},
																"valor_retencao_iss":{"type":"string"},
																"indicador_exigibilidade_iss":{"type":"string","description":"Define a exigibilidade do ISSQN para o produto."},
																"codigo_pais":{"type":"string","description":"Código do BACEN(Banco Central) para o país onde o serviço foi prestado."},
																"indicador_incentivo":{"type":"string","description":"Indica se há ou não incentivo fiscal."}
															}
														}
													}
												}
											}
										}
									},
									"transporte":{
										"type":"object",
										"properties":{
											"modalidade_frete":{"type":"string"},
											"transportador":{
												"type":"array",
												"items":{
													"type":"object",
													"required":["nome","inscricao_estadual","endereco","municipio"],
													"properties":{
														"cnpj":{"type":"string","description":"CNPJ do transportador"},
														"cpf":{"type":"string","description":"CPF do transportador"},
														"nome":{"type":"string"},
														"inscricao_estadual":{"type":"string"},
														"endereco":{"type":"string"},
														"municipio":{"type":"string"},
														"uf":{"type":"string"}
													}
												}
											},
											"retencao_icms_transporte":{
												"type":"object",
												"required":["valor_servico","base_calculo_retencao_icms","aliquota_retencao","valor_icms_retido","cfop","codigo_municipio"],
												"properties":{
													"valor_servico":{"type":"string"},
													"base_calculo_retencao_icms":{"type":"string"},
													"aliquota_retencao":{"type":"string"},
													"valor_icms_retido":{"type":"string"},
													"cfop":{"type":"string"},
													"codigo_municipio":{"type":"string"}
												}
											},
											"veiculo_transporte":{
												"type":"object",
												"required":["placa","uf"],
												"properties":{
													"placa":{"type":"string"},
													"uf":{"type":"string"},
													"rntc":{"type":"string"}
												}
											},
											"reboque":{
												"type":"array",
												"items":{
													"type":"object",
													"required":["placa","uf"],
													"properties":{
														"placa":{"type":"string"},
														"uf":{"type":"string"},
														"rntc":{"type":"string"}
													}
												}
											},
											"vagao":{"type":"string"},
											"balsa":{"type":"string"},
											"volumes":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"quantidade_volumes":{"type":"string"},
														"especie_volumes":{"type":"string"},
														"marca_volumes":{"type":"string"},
														"numeracao_volumes":{"type":"string"},
														"peso_liquido":{"type":"string"},
														"peso_bruto":{"type":"string"},
														"lacres":{
															"type":"array",
															"items":{
																"type":"object",
																"required":["numero_lacre"],
																"properties":{
																	"numero_lacre":{"type":"string"}
																}
															}
														}
													}
												}
											}
										}
									},
									"pagamento":{
										"type":"object",
										"properties":{
											"detalhamento_pagamentos":{
												"type":"array",
												"items":{
													"type":"object",
													"properties":{
														"forma_pagamento":{"type":"string","description":"Indica se o pagamento é à vista ou a prazo."},
														"meio_pagamento":{"type":"string","description":"Pagamento em dinheio, cartão, etc."},
														"valor_pagamento":{"type":"string"},
														"cartao":{
															"type":"object",
															"required":["tipo_integracao"],
															"properties":{
																"tipo_integracao":{"type":"string","description":"Identifica o tipo de sistema de automação do pagamento."},
																"cnpj_instituicao":{"type":"string","description":"CNPJ da instituição que processa o pagamento."},
																"bandeira":{"type":"string","description":"Bandeira do cartão."},
																"numero_autorizacao_operacao":{"type":"string","description":"Número da autorização da operação com o cartão de crédito."}
															}
														}
													}
												}
											},
										}
									},
									"responsavel_tecnico":{
										"type":"object",
										"required":["cnpj","nome_contato","email","fone"],
										"properties":{
											"cnpj":{"type":"string"},
											"nome_contato":{"type":"string"},
											"email":{"type":"string"},
											"fone":{"type":"string"},
											"informacoes_csrt":{
												"type":"object",
												"required":["id_csrt","csrt"],
												"properties":{
													"id_csrt":{"type":"string"},
													"csrt":{"type":"string"}
												}
											}
										}
									}
								}
							}
						}
					}
				},
				"responses":{
					"200":{"description":"sucesso"}
				}
			}
		}
	}
}
